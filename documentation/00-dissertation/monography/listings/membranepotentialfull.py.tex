\begin{lstlisting}[language=C++, caption={Implementação em C++ da simulação completa do potencial de ação de um LIF: $I_{in}=1$, $V_{thresh} = 2$ is threshold}, label={lst:membranepotentialfull}]
double lif(double V_mem, double dt = 1, double I_in = 1, double R = 5, double C = 1, double V_thresh = 2, bool reset_zero = true) {
	
	double tau = R * C;
	V_mem = V_mem + (dt / tau) * (-V_mem + I_in * R);
	if (V_mem > V_thresh) {
		if (reset_zero) {
			V_mem = 0;
		} else {
			V_mem = V_mem - V_thresh;
		}
	}
	return V_mem;
}
\end{lstlisting}
