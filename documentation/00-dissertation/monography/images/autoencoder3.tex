\begin{tikzpicture}[scale=2.5]
	% Define scaling factors
	\def\inputscale{.5}
	\def\hiddenscale{.5}
	\def\outputscale{.5}
	
	%input layer
	\foreach \i in {0,1,2} {
		\node (input_node\i) at (0,\i*\inputscale) {}; 
		\filldraw[fill=gray] (input_node\i) circle (0.15cm);
		\node at (input_node\i) {\tiny $x_\i$};
		
		\draw[->,in=180,out=0] (-0.5,\i*\inputscale) to (input_node\i);
	}
	
	%hidden layer
	\foreach \i in {0,1,2,3,4} {
		\node (hidden_node\i) at (1.5,\i*\hiddenscale-0.65) {}; 
		\filldraw[fill=yellow] (hidden_node\i) circle (0.15cm);
		\node at (hidden_node\i) {\tiny $h_\i$};
	}
	
	%output layer
	\foreach \i in {0,1,2} {
		\node (output_node\i) at (3,\i*\outputscale) {}; 
		\filldraw[fill=red] (output_node\i) circle (0.15cm);
		\node at (output_node\i) {\tiny $r_\i$};
	}
	
	% Connect layers
	\foreach \i in {0,1,2} {
		\foreach \j in {0,1,2,3,4} {
			\draw[->,in=180,out=0] (input_node\i) to (hidden_node\j);
			\draw[->,in=180,out=0] (hidden_node\j) to (output_node\i);
		}
	}
	
	%descriptions
	\draw[snake=brace,mirror snake,raise snake=45pt,brown] (-0.2,0.4) -- (0.3,0.4) node[black,midway,yshift=-50pt,below]{\tiny entrada};
	
	\draw[snake=brace,mirror snake,raise snake=45pt,brown] (1.3,-0.2) -- (1.7,-0.2) node[black,midway,yshift=-50pt,below]{\tiny código};
	
	\draw[snake=brace,mirror snake,raise snake=45pt,brown] (2.7,0.4) -- (3.3,0.4) node[black,midway,yshift=-50pt,below]{\tiny reconstrução};
	
\end{tikzpicture}